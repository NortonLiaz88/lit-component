{"version":3,"file":"custom-carousel.js","sourceRoot":"","sources":["src/custom-carousel.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, nothing } from 'lit';\r\nimport { customElement, property, state } from 'lit/decorators.js';\r\nimport { carouselStyles } from './custom-carousel.styles';\r\n\r\ninterface CarouselAsset {\r\n  display: string | boolean;\r\n  fileReference: string;\r\n  alt?: string;\r\n  imageTitle?: string;\r\n  description?: string;\r\n  linkURL?: string;\r\n}\r\n\r\n@customElement('custom-carousel')\r\nexport class CustomCarousel extends LitElement {\r\n\r\n  @property({ type: Array })\r\n  assets: CarouselAsset[] = [];\r\n\r\n  static override styles = [carouselStyles];\r\n\r\n  @state()\r\n  private currentIndex = 0;\r\n\r\n  private get visibleAssets(): CarouselAsset[] {\r\n    return (this.assets || []).filter(a => {\r\n      if (typeof a.display === 'boolean') return a.display;\r\n      return a.display === 'true';\r\n    });\r\n  }\r\n\r\n  private get numAssets(): number {\r\n    return this.visibleAssets.length;\r\n  }\r\n\r\n  private next() {\r\n    if (this.currentIndex < this.numAssets - 1) {\r\n      this.currentIndex++;\r\n    }\r\n  }\r\n\r\n  private prev() {\r\n    if (this.currentIndex > 0) {\r\n      this.currentIndex--;\r\n    }\r\n  }\r\n\r\n  private goTo(index: number) {\r\n    if (index >= 0 && index < this.numAssets) {\r\n      this.currentIndex = index;\r\n    }\r\n  }\r\n\r\n  private onKeydown(e: KeyboardEvent) {\r\n    if (e.key === 'ArrowLeft') {\r\n      e.preventDefault();\r\n      this.prev();\r\n    } else if (e.key === 'ArrowRight') {\r\n      e.preventDefault();\r\n      this.next();\r\n    }\r\n  }\r\n\r\n  override render() {\r\n    const assets = this.visibleAssets;\r\n\r\n    if (!assets || assets.length === 0) {\r\n      return html`\r\n        <div class=\"cmp-custom-carousel__placeholder\">\r\n          <p>Please configure carousel assets in the dialog.</p>\r\n        </div>\r\n      `;\r\n    }\r\n\r\n    return html`\r\n      <div\r\n        class=\"cmp-custom-carousel\"\r\n        tabindex=\"0\"\r\n        @keydown=${this.onKeydown}\r\n      >\r\n        <div class=\"cmp-assets\">\r\n          <div class=\"carousel-container\">\r\n            <!-- Prev button -->\r\n            <div\r\n              class=\"carousel-controls-prev ${this.numAssets > 1 ? '' : 'hidden'}\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                @click=${this.prev}\r\n                ?disabled=${this.currentIndex === 0}\r\n                aria-label=\"Previous slide\"\r\n              ></button>\r\n            </div>\r\n\r\n            <!-- Track -->\r\n            <div class=\"cmp-assets__track\">\r\n              ${assets.map((asset, index) => {\r\n                const isActive = index === this.currentIndex;\r\n                return html`\r\n                  <div\r\n                    class=\"cmp-assets__item ${isActive ? 'is-active' : ''}\"\r\n                  >\r\n                    <div class=\"cmp-assets__image-wrapper\">\r\n                      ${asset.linkURL\r\n                        ? html`\r\n                            <a\r\n                              class=\"cmp-assets__image-link cmp-assets__image-link--disabled\"\r\n                              href=${asset.linkURL}\r\n                              target=\"_blank\"\r\n                            >\r\n                              <img\r\n                                class=\"cmp-assets__image\"\r\n                                src=${asset.fileReference}\r\n                                alt=${asset.alt || ''}\r\n                                loading=\"lazy\"\r\n                              />\r\n                            </a>\r\n                          `\r\n                        : html`\r\n                            <img\r\n                              class=\"cmp-assets__image\"\r\n                              src=${asset.fileReference}\r\n                              alt=${asset.alt || ''}\r\n                              loading=\"lazy\"\r\n                            />\r\n                          `}\r\n                      ${asset.imageTitle || asset.description\r\n                        ? html`\r\n                            <div class=\"cmp-assets__title\">\r\n                              ${asset.imageTitle\r\n                                ? html`\r\n                                    <span class=\"cmp-assets__image-text\">\r\n                                      ${asset.imageTitle}\r\n                                    </span>\r\n                                  `\r\n                                : nothing}\r\n                              ${asset.description\r\n                                ? html`\r\n                                    <span\r\n                                      class=\"cmp-assets__description-text\"\r\n                                    >\r\n                                      ${asset.description}\r\n                                    </span>\r\n                                  `\r\n                                : nothing}\r\n                              ${asset.linkURL\r\n                                ? html`\r\n                                    <a\r\n                                      class=\"cmp-assets_button-container\"\r\n                                      href=${asset.linkURL}\r\n                                      target=\"_blank\"\r\n                                    >\r\n                                      Discover\r\n                                    </a>\r\n                                  `\r\n                                : nothing}\r\n                            </div>\r\n                          `\r\n                        : nothing}\r\n                    </div>\r\n                  </div>\r\n                `;\r\n              })}\r\n            </div>\r\n\r\n            <!-- Next button -->\r\n            <div\r\n              class=\"carousel-controls-next ${this.numAssets > 1 ? '' : 'hidden'}\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                @click=${this.next}\r\n                ?disabled=${this.currentIndex >= this.numAssets - 1}\r\n                aria-label=\"Next slide\"\r\n              ></button>\r\n            </div>\r\n\r\n            <!-- Indicators -->\r\n            <div class=\"cmp-assets__indicators\">\r\n              <ol class=\"cmp-assets__indicators-list\">\r\n                ${assets.map((_asset, index) => {\r\n                  const isActive = index === this.currentIndex;\r\n                  return html`\r\n                    <li\r\n                      class=\"cmp-assets__indicator ${isActive\r\n                        ? 'is-active'\r\n                        : ''}\"\r\n                    >\r\n                      <button\r\n                        type=\"button\"\r\n                        @click=${() => this.goTo(index)}\r\n                        aria-label=${`Go to slide ${index}`}\r\n                        aria-current=${isActive ? 'true' : 'false'}\r\n                      ></button>\r\n                    </li>\r\n                  `;\r\n                })}\r\n              </ol>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}"]}